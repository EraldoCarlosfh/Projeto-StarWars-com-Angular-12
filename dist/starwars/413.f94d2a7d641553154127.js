(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[413],{3413:(t,s,e)=>{"use strict";e.r(s),e.d(s,{StarshipsModule:()=>J});var i=e(8583),r=e(9681),n=e(665),o=e(3018),a=e(5257),c=e(2340),l=e(1841);let h=(()=>{class t{constructor(t){this.http=t,this.endpoint="starships",this.endpoint2="starship"}getStarship(){return this.http.get(c.N.api+this.endpoint).pipe((0,a.q)(1))}getStarshipPage(t){return this.http.get(`${c.N.api+this.endpoint}/?page=${t}`).pipe((0,a.q)(1))}getStarshipById(t){return this.http.get(`${c.N.api+this.endpoint}/${t}`).pipe((0,a.q)(1))}postStarship(t){return this.http.post(c.N.api+"save/"+this.endpoint2,t).pipe((0,a.q)(1))}putStarship(t){return this.http.put(c.N.api+"update/"+this.endpoint2,t).pipe((0,a.q)(1))}deleteStarship(t){return this.http.delete(`${t}`).pipe((0,a.q)(1))}deleteStarshipById(t){return this.http.delete(`${c.N.api+"delete/starship/"}${t}`).pipe((0,a.q)(1))}}return t.\u0275fac=function(s){return new(s||t)(o.LFG(l.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var d=e(3647),p=e(9344),u=e(3686);function g(t,s){1&t&&(o.TgZ(0,"div",22),o._uU(1," Name is mandatory! "),o.qZA())}function f(t,s){1&t&&(o.TgZ(0,"div",22),o._uU(1," Name must be at least 4 characters long! "),o.qZA())}function m(t,s){1&t&&(o.TgZ(0,"div",22),o._uU(1," Name must have a maximum of 50 characters! "),o.qZA())}function Z(t,s){1&t&&(o.TgZ(0,"div",22),o._uU(1," Size is mandatory! "),o.qZA())}function v(t,s){1&t&&(o.TgZ(0,"div",22),o._uU(1," Maximum size is 400! "),o.qZA())}function b(t,s){1&t&&(o.TgZ(0,"div",22),o._uU(1," Passenger is mandatory! "),o.qZA())}function x(t,s){1&t&&(o.TgZ(0,"div",22),o._uU(1," Maximum quantity is 2.000! "),o.qZA())}function q(t,s){if(1&t){const t=o.EpF();o.TgZ(0,"div",23),o.TgZ(1,"p"),o._uU(2,"Want to add a new starship?"),o.qZA(),o.TgZ(3,"button",24),o.NdJ("click",function(){return o.CHM(t),o.oxw().confirm()}),o._uU(4,"Yes"),o.qZA(),o.TgZ(5,"button",25),o.NdJ("click",function(){return o.CHM(t),o.oxw().decline()}),o._uU(6,"No"),o.qZA(),o.qZA()}}let A=(()=>{class t{constructor(t,s,e,i,r,n,o){this.fb=t,this.activatedRouter=s,this.starshipService=e,this.modalService=i,this.toastr=r,this.spinner=n,this.router=o,this.starship={}}get f(){return this.form.controls}carregarStarship(){this.starshipId=+this.activatedRouter.snapshot.paramMap.get("id"),null!==this.starshipId&&0!==this.starshipId&&(this.spinner.show(),this.starshipService.getStarshipById(this.starshipId).subscribe(t=>{this.starship=Object.assign({},t),this.form.patchValue(this.starship)},t=>{this.toastr.error("Erro ao tentar carregar Starship.","Erro!"),console.error(t)}).add(()=>this.spinner.hide()))}ngOnInit(){this.carregarStarship(),this.validation()}validation(){this.form=this.fb.group({name:["",[n.kI.required,n.kI.minLength(4),n.kI.maxLength(40)]],size:["",[n.kI.required,n.kI.max(400)]],passengers:["",[n.kI.required,n.kI.max(2e3)]]})}onSubmit(){}resetForm(){this.form.reset()}cssValidator(t){return{"is-invalid":t.errors&&t.touched}}saveStarship(t){this.spinner.show(),this.form.valid&&(this.starship=Object.assign({},this.form.value),this.starshipService.postStarship(this.starship).subscribe(()=>{this.toastr.success(`Starship: ${this.starship.name} salva com sucesso.`,"Sucesso!"),this.resetForm()},t=>{this.toastr.error(`Starship: ${this.starship.name} n\xe3o foi salva`,"Erro!"),console.error(t)}).add(()=>this.spinner.hide()),this.openModal(t))}openModal(t){this.modalRef=this.modalService.show(t,{class:"modal-sm"})}confirm(){this.modalRef.hide()}decline(){this.modalRef.hide()}}return t.\u0275fac=function(s){return new(s||t)(o.Y36(n.qu),o.Y36(r.gz),o.Y36(h),o.Y36(d.tT),o.Y36(p._W),o.Y36(u.t2),o.Y36(r.F0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-starship-detail"]],decls:39,vars:15,consts:[[1,"container"],[1,""],["src","../assets/StarWars3.png","id","starwars","alt",""],[1,"title"],[1,"card","rounded","shadow-sm"],["src","../assets/Ghost-Fathead.png","alt","...",1,"card-img-top"],[3,"formGroup","ngSubmit"],[1,"p-3"],[1,"form-row"],[1,"form-group","col-md-12"],["type","text","formControlName","name","placeholder","Enter your Name",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"form-row","d-flex","justify-content-between","mt-3","mb-4"],[1,"form-group","col-md-3"],["type","number","formControlName","size","placeholder","Size",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"form-group","col-md-4"],["type","number","formControlName","passengers","placeholder","Passengers",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"card-footer"],[1,"d-flex","justify-content-between"],[1,"btn","btn-outline-secondary","mr-auto","border",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],["template",""],[1,"invalid-feedback"],[1,"modal-body","text-center"],["type","button",1,"btn","btn-default",3,"click"],["type","button","routerLink","/starships",1,"btn","btn-primary",3,"click"]],template:function(t,s){if(1&t){const t=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"p"),o._uU(5,"Starships Registration"),o.qZA(),o.qZA(),o.TgZ(6,"div",4),o._UZ(7,"img",5),o.TgZ(8,"form",6),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.TgZ(9,"div",7),o.TgZ(10,"div",8),o.TgZ(11,"div",9),o.TgZ(12,"label"),o._uU(13,"Name:"),o.qZA(),o.TgZ(14,"input",10),o.NdJ("ngModelChange",function(t){return s.starship.name=t}),o.qZA(),o.YNc(15,g,2,0,"div",11),o.YNc(16,f,2,0,"div",11),o.YNc(17,m,2,0,"div",11),o.qZA(),o.qZA(),o.TgZ(18,"div",12),o.TgZ(19,"div",13),o.TgZ(20,"label"),o._uU(21,"Size:"),o.qZA(),o.TgZ(22,"input",14),o.NdJ("ngModelChange",function(t){return s.starship.size=t}),o.qZA(),o.YNc(23,Z,2,0,"div",11),o.YNc(24,v,2,0,"div",11),o.qZA(),o.TgZ(25,"div",15),o.TgZ(26,"label"),o._uU(27,"Passengers:"),o.qZA(),o.TgZ(28,"input",16),o.NdJ("ngModelChange",function(t){return s.starship.passengers=t}),o.qZA(),o.YNc(29,b,2,0,"div",11),o.YNc(30,x,2,0,"div",11),o.qZA(),o.qZA(),o.TgZ(31,"div",17),o.TgZ(32,"div",18),o.TgZ(33,"button",19),o.NdJ("click",function(){return s.resetForm()}),o._uU(34," Cancel Change "),o.qZA(),o.TgZ(35,"button",20),o.NdJ("click",function(){o.CHM(t);const e=o.MAs(38);return s.saveStarship(e)}),o._uU(36," Save Nave "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(37,q,7,0,"ng-template",null,21,o.W1O)}2&t&&(o.xp6(8),o.Q6J("formGroup",s.form),o.xp6(6),o.Q6J("ngClass",s.cssValidator(s.f.name))("ngModel",s.starship.name),o.xp6(1),o.Q6J("ngIf",null==s.f.name.errors?null:s.f.name.errors.required),o.xp6(1),o.Q6J("ngIf",null==s.f.name.errors?null:s.f.name.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==s.f.name.errors?null:s.f.name.errors.maxlength),o.xp6(5),o.Q6J("ngClass",s.cssValidator(s.f.size))("ngModel",s.starship.size),o.xp6(1),o.Q6J("ngIf",(null==s.f.size.errors?null:s.f.size.errors.required)&&s.f.size.touched),o.xp6(1),o.Q6J("ngIf",(null==s.f.size.errors?null:s.f.size.errors.max)&&s.f.size.touched),o.xp6(4),o.Q6J("ngClass",s.cssValidator(s.f.passengers))("ngModel",s.starship.passengers),o.xp6(1),o.Q6J("ngIf",(null==s.f.passengers.errors?null:s.f.passengers.errors.required)&&s.f.passengers.touched),o.xp6(1),o.Q6J("ngIf",(null==s.f.passengers.errors?null:s.f.passengers.errors.max)&&s.f.passengers.touched),o.xp6(5),o.Q6J("disabled",!s.form.valid))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,i.mk,i.O5,n.wV,r.rH],styles:["#starwars[_ngcontent-%COMP%]{display:flex;height:180px;width:280px;margin:82px auto 5px;align-items:center}.container[_ngcontent-%COMP%]{width:800px}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:60px;color:#eee;font-weight:600;text-shadow:.1em .1em .2em #000}"]}),t})();var S=e(5714);function w(t,s){1&t&&(o.TgZ(0,"div",17),o._uU(1," There are no registered Starships... "),o.qZA())}function T(t,s){if(1&t){const t=o.EpF();o.TgZ(0,"div",20),o.TgZ(1,"div",21),o._UZ(2,"img",22),o.TgZ(3,"div",23),o.TgZ(4,"small",1),o._uU(5),o.qZA(),o.TgZ(6,"div",24),o.TgZ(7,"i",25),o.NdJ("click",function(s){const e=o.CHM(t).$implicit,i=o.oxw(2),r=o.MAs(21);return i.openModalDelete(s,r,e.id)}),o.qZA(),o._uU(8," \xa0\xa0"),o._UZ(9,"i",26),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=s.$implicit;o.xp6(5),o.hij("",t.name," "),o.xp6(4),o.Tol("fa fa-edit")}}function M(t,s){if(1&t&&(o.TgZ(0,"div",18),o.YNc(1,T,10,4,"div",19),o.qZA()),2&t){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.starshipsFiltered)}}function _(t,s){if(1&t){const t=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){o.CHM(t);const s=o.oxw();return s.viewButton=!s.viewButton})("click",function(){return o.CHM(t),o.oxw().loading()}),o._uU(1),o.qZA()}if(2&t){const t=o.oxw();o.xp6(1),o.Oqu(t.nameButton)}}function C(t,s){if(1&t){const t=o.EpF();o.TgZ(0,"div",28),o.TgZ(1,"p"),o._uU(2,"Want to add a new starship?"),o.qZA(),o.TgZ(3,"button",29),o.NdJ("click",function(){return o.CHM(t),o.oxw().confirmAddStarship()}),o._uU(4,"Yes"),o.qZA(),o.TgZ(5,"button",30),o.NdJ("click",function(){return o.CHM(t),o.oxw().declineStarship()}),o._uU(6,"No"),o.qZA(),o.qZA()}}function N(t,s){if(1&t){const t=o.EpF();o.TgZ(0,"div",28),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"button",31),o.NdJ("click",function(){return o.CHM(t),o.oxw().confirmDeleteStarship()}),o._uU(4,"Yes"),o.qZA(),o.TgZ(5,"button",30),o.NdJ("click",function(){return o.CHM(t),o.oxw().declineDeleteStarship()}),o._uU(6,"No"),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(2),o.hij("Are you sure you want to delete the Code Starship: ",t.starshipId,"?")}}const y=[{path:"",component:(()=>{class t{constructor(t,s,e,i){this.spinner=t,this.starshipService=s,this.modalService=e,this.toastr=i,this.starships=[],this.starshipsFiltered=[],this.starship={},this.pagina=1,this.viewButton=!0,this.nameButton="",this.filtroListado=""}get filtroLista(){return this.filtroListado}set filtroLista(t){this.filtroListado=t,this.starshipsFiltered=this.filtroLista?this.filterStarships(this.filtroLista):this.starships}ngOnInit(){this.spinner.show(),this.GetAllStarship()}filterStarships(t){return t=t.toLocaleLowerCase(),this.starships.filter(s=>-1!==s.name.toLocaleLowerCase().indexOf(t))}GetAllStarship(){this.starshipService.getStarship().subscribe(t=>{this.starships=t,this.starshipsFiltered=this.starships,this.loading(),this.toastr.success("Dados carregados","Sucesso!")},t=>{0===this.starships.length&&this.toastr.error("Sem Starships cadastradas.","Erro!"),0!=this.starships.length&&(this.toastr.error("Erro ao carregar dados","Erro!"),console.error(t))}).add(()=>this.spinner.hide())}mudarPagina(){this.pagina++,this.pagina>4&&(this.pagina=1)}mudarPagina2(){this.pagina--}loading(){if(this.viewButton){var t=this.starshipsFiltered.slice(0,6);this.starshipsFiltered=t,this.nameButton="View More"}else this.starships.length>6?(this.starshipsFiltered=this.starships,this.nameButton="View Less"):this.toastr.error(`Existem somente: ${this.starshipsFiltered.length} starships registradas. `,"Erro!")}GetAllStarshipPage(){this.starshipService.getStarshipPage(this.pagina).subscribe(t=>{this.starships=t,this.starshipsFiltered=this.starships,this.toastr.success("Dados carregados","Sucesso!")},t=>{this.toastr.error("Erro ao carregar dados","Erro!"),console.error(t)}).add(()=>this.spinner.hide())}openModalAddStarship(t){this.modalRef=this.modalService.show(t,{class:"modal-sm"})}openModalDelete(t,s,e){console.log(s),t.stopPropagation(),this.starshipId=e,this.modalRef=this.modalService.show(s,{class:"modal-sm"})}confirmAddStarship(){this.modalRef.hide()}declineStarship(){this.modalRef.hide()}declineDeleteStarship(){this.modalRef.hide()}confirmDeleteStarship(){this.modalRef.hide(),this.spinner.show(),this.starshipService.deleteStarshipById(this.starshipId).subscribe(()=>{var t="";this.starships.forEach(s=>{t=s.name}),this.toastr.success(`O Starship ${t} foi deletada com sucesso`,"Sucesso!"),window.location.reload()},t=>{this.toastr.error(`Erro ao tentar deletar a Starship ${this.starshipId}`,"Erro!"),console.error(t)}).add(()=>this.spinner.hide())}}return t.\u0275fac=function(s){return new(s||t)(o.Y36(u.t2),o.Y36(h),o.Y36(d.tT),o.Y36(p._W))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-starships"]],decls:22,vars:4,consts:[[1,"container"],[1,""],["src","../assets/StarWars3.png","id","starwars","alt",""],[1,"title"],[1,"d-flex","mb-3"],[1,"flex-fill","pr-3"],[1,"input-group","mb-2"],["type","search","placeholder","Filtrar por Nome","id","search",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-2","d-flex"],[1,"d-flex","btn","btn-outline-primary",3,"click"],[1,"fa","fa-plus-circle","my-1"],[1,"ml-1","d-none","d-sm-block"],["class","d-flex justify-content-center","style","color:white; font-size: 20px",4,"ngIf"],["class","row row-cols-1 row-cols-md-3 g-4",4,"ngIf"],["style","font-weight: 600;","class","btn mt-3",3,"click",4,"ngIf"],["templateAdd",""],["templateDelete",""],[1,"d-flex","justify-content-center",2,"color","white","font-size","20px"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col","style","cursor: pointer;",4,"ngFor","ngForOf"],[1,"col",2,"cursor","pointer"],[1,"card"],["src","../assets/Ghost-Fathead.png","alt","...",1,"card-img-top"],[1,"card-footer","d-flex","justify-content-between"],[1,"d-flex","align-items-center"],["tooltip","Excluir",1,"fa","fa-trash",3,"click"],["tooltip","Editar"],[1,"btn","mt-3",2,"font-weight","600",3,"click"],[1,"modal-body","text-center"],["type","button","routerLink","/starships/detail",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-default",3,"click"]],template:function(t,s){if(1&t){const t=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"p"),o._uU(5,"Starships"),o.qZA(),o.qZA(),o.TgZ(6,"div",4),o.TgZ(7,"div",5),o.TgZ(8,"div",6),o.TgZ(9,"input",7),o.NdJ("ngModelChange",function(t){return s.filtroLista=t}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",8),o.TgZ(11,"a",9),o.NdJ("click",function(){o.CHM(t);const e=o.MAs(19);return s.openModalAddStarship(e)}),o._UZ(12,"i",10),o.TgZ(13,"b",11),o._uU(14,"Add Starship"),o.qZA(),o.qZA(),o.qZA(),o.YNc(15,w,2,0,"div",12),o.YNc(16,M,2,1,"div",13),o.YNc(17,_,2,1,"button",14),o.qZA(),o.YNc(18,C,7,0,"ng-template",null,15,o.W1O),o.YNc(20,N,7,1,"ng-template",null,16,o.W1O)}2&t&&(o.xp6(9),o.Q6J("ngModel",s.filtroLista),o.xp6(6),o.Q6J("ngIf",0===s.starships.length),o.xp6(1),o.Q6J("ngIf",s.starships.length>0),o.xp6(1),o.Q6J("ngIf",s.starships.length>0))},directives:[n.Fj,n.JJ,n.On,i.O5,i.sg,S.i9,r.rH],styles:["#starwars[_ngcontent-%COMP%]{height:180px;width:280px;margin:82px auto 5px;align-items:center}#starwars[_ngcontent-%COMP%], .card-deck[_ngcontent-%COMP%]{display:flex}.card[_ngcontent-%COMP%]{border:2px solid #1f2738!important}.card[_ngcontent-%COMP%]:hover{border:2px solid #facc00!important}.btn[_ngcontent-%COMP%]{color:#1f2738;background-color:#eee!important;border:#eee!important}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:hover{color:#eee;background-color:#facc00!important;border:#facc00!important}.card-footer[_ngcontent-%COMP%]{color:#eee!important;background-color:#1f2738;text-align:center}.card-footer[_ngcontent-%COMP%]:hover{color:#1f2738!important;background-color:#facc00}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:60px;color:#eee;font-weight:600;text-shadow:.1em .1em .2em #000}.card[_ngcontent-%COMP%]{margin-right:15px;margin-top:15px}#search[_ngcontent-%COMP%]{border-radius:20px}"]}),t})()},{path:"detail",component:A}];let k=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[r.Bz.forChild(y)],r.Bz]}),t})(),J=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[h],imports:[[i.ez,n.u5,n.UX,k,S.z8.forRoot()]]}),t})()}}]);
//# sourceMappingURL=413.f94d2a7d641553154127.js.map