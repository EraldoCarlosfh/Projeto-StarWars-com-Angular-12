(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[855],{5855:(t,e,o)=>{"use strict";o.r(e),o.d(e,{PilotsModule:()=>P});var i=o(8583),n=o(9681),r=o(3018);function s(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"li",7),r._uU(2),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.hij("Filme: ",t,"")}}let l=(()=>{class t{constructor(){}ngOnInit(){this.filtroUrl()}filtroUrl(){return this.filmesFiltered=this.people.films.map(t=>t.replace(/\D/g,"")),this.filmesFiltered}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-modal"]],decls:13,vars:3,consts:[["id","details",1,"card"],["src","../assets/starwars.jpg","alt","...",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"solid"],[1,"list-group","list-group-flush"],[4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"img",1),r.TgZ(2,"div",2),r.TgZ(3,"h4",3),r._uU(4),r.qZA(),r._UZ(5,"hr",4),r.TgZ(6,"h4",3),r._uU(7),r.qZA(),r._UZ(8,"hr",4),r.qZA(),r.TgZ(9,"ul",5),r.TgZ(10,"h4",3),r._uU(11,"Episodes:"),r.qZA(),r.YNc(12,s,3,1,"div",6),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.hij("Name: ",e.people.name,""),r.xp6(3),r.hij("Age: ",e.people.age,""),r.xp6(5),r.Q6J("ngForOf",e.filmesFiltered))},directives:[i.sg],styles:["#details[_ngcontent-%COMP%]{color:#eee;background-color:#1f2738;border:none!important}h4[_ngcontent-%COMP%]:hover, li[_ngcontent-%COMP%]:hover{color:#f56f36}li[_ngcontent-%COMP%]{color:#eee;background-color:#1f2738}.card-title[_ngcontent-%COMP%], .list-group-item[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})();var a=o(2255),c=o(9344),p=o(6054),d=o(3686),g=o(665);function u(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"a",14),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().openModal(e)}),r.TgZ(2,"div",15),r._UZ(3,"img",16),r.TgZ(4,"div",17),r.TgZ(5,"small",18),r._uU(6),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(6),r.Oqu(t.name)}}function h(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",10),r.NdJ("click",function(){return r.CHM(t),r.oxw().mudarPagina()})("click",function(){return r.CHM(t),r.oxw().GetAllPeoplePage()}),r._uU(1,"Pr\xf3xima"),r.qZA()}}function f(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",10),r.NdJ("click",function(){return r.CHM(t),r.oxw().mudarPagina2()})("click",function(){return r.CHM(t),r.oxw().GetAllPeoplePage()}),r._uU(1,"Anterior"),r.qZA()}}const m=[{path:"",component:(()=>{class t{constructor(t,e,o,i){this.peopleService=t,this.toastr=e,this.modalService=o,this.spinner=i,this.peopleFilms=[],this.peoples=[],this.peoplesFiltered=[],this.people={},this.pagina=1,this.initial=6,this.viewButton=!0,this.nameButton="ver mais",this.filtroListado=""}get filtroLista(){return this.filtroListado}set filtroLista(t){this.filtroListado=t,this.peoplesFiltered=this.filtroLista?this.filterPeoples(this.filtroLista):this.peoples}ngOnInit(){this.spinner.show(),this.GetAllPeople()}filterPeoples(t){return t=t.toLocaleLowerCase(),this.peoples.filter(e=>-1!==e.name.toLocaleLowerCase().indexOf(t)||-1!==e.age.toLocaleLowerCase().indexOf(t))}loading(){this.GetAllPeople()}GetAllPeople(){this.peopleService.getPeople().subscribe(t=>{this.peoples=t.results,this.peoplesFiltered=this.peoples,this.viewButton?(this.peoplesFiltered.length=this.initial,this.nameButton="Ver mais"):(this.peoplesFiltered=this.peoplesFiltered,this.nameButton="Ver menos"),this.toastr.success("Dados carregados","Sucesso!")},t=>{this.toastr.error("Erro ao carregar dados","Erro!"),console.error(t)}).add(()=>this.spinner.hide())}openModal(t){this.modalRef=this.modalService.show(l,{class:"modal-sm",initialState:{people:t}})}confirmPeople(){this.modalRef.hide()}declinePeople(){this.modalRef.hide()}mudarPagina(){this.pagina++,this.pagina>9&&(this.pagina=1)}mudarPagina2(){this.pagina--}GetAllPeoplePage(){this.peopleService.getPeoplePage(this.pagina).subscribe(t=>{this.peoples=t.results,this.peoplesFiltered=this.peoples,this.viewButton?(this.peoplesFiltered.length=this.initial,this.nameButton="Ver mais"):(this.peoplesFiltered=this.peoplesFiltered,this.nameButton="Ver menos"),this.toastr.success("Dados carregados","Sucesso!")},t=>{this.toastr.error("Erro ao carregar dados","Erro!"),console.error(t)}).add(()=>this.spinner.hide())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.g),r.Y36(c._W),r.Y36(p.tT),r.Y36(d.t2))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-pilots"]],decls:18,vars:5,consts:[[1,"container"],[1,""],["src","../assets/StarWars3.png","id","starwars","alt",""],[1,"title"],[1,"d-flex","mb-3"],[1,"flex-fill","pr-3"],[1,"input-group","mb-2"],["type","search","placeholder","Filtrar por Nome ou Idade","id","search",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col","style","cursor: pointer;",4,"ngFor","ngForOf"],[1,"btn","mt-3",2,"font-weight","600",3,"click"],[1,"d-flex","justify-content-between"],["style","font-weight: 600;","class","btn mt-3",3,"click",4,"ngIf"],[1,"col",2,"cursor","pointer"],[3,"click"],[1,"card"],["src","../assets/unnamed.jpg","alt","...",1,"card-img-top"],[1,"card-footer"],[1,"text-muted"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._UZ(2,"img",2),r.qZA(),r.TgZ(3,"div",3),r.TgZ(4,"p"),r._uU(5,"Pilots"),r.qZA(),r.qZA(),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"input",7),r.NdJ("ngModelChange",function(t){return e.filtroLista=t}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"div",8),r.YNc(11,u,7,1,"div",9),r.qZA(),r.TgZ(12,"button",10),r.NdJ("click",function(){return e.viewButton=!e.viewButton})("click",function(){return e.loading()}),r._uU(13),r.qZA(),r.TgZ(14,"div",11),r.YNc(15,h,2,0,"button",12),r._UZ(16,"br"),r.YNc(17,f,2,0,"button",12),r.qZA(),r.qZA()),2&t&&(r.xp6(9),r.Q6J("ngModel",e.filtroLista),r.xp6(2),r.Q6J("ngForOf",e.peoplesFiltered),r.xp6(2),r.Oqu(e.nameButton),r.xp6(2),r.Q6J("ngIf",e.pagina>=0),r.xp6(2),r.Q6J("ngIf",e.pagina>0))},directives:[g.Fj,g.JJ,g.On,i.sg,i.O5],styles:["#starwars[_ngcontent-%COMP%]{height:180px;width:280px;margin:82px auto 5px;align-items:center}#starwars[_ngcontent-%COMP%], .card-deck[_ngcontent-%COMP%]{display:flex}.card[_ngcontent-%COMP%]{border:2px solid #1f2738!important}.card[_ngcontent-%COMP%]:hover{border:2px solid #f56f36!important}.btn[_ngcontent-%COMP%]{color:#1f2738;background-color:#eee!important;border:#eee!important}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:hover{color:#eee;background-color:#f56f36!important;border:#f56f36!important}.card-footer[_ngcontent-%COMP%]{background-color:#1f2738;text-align:center}.card-footer[_ngcontent-%COMP%]:hover{background-color:#f56f36}small[_ngcontent-%COMP%]{color:#ddd!important}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:60px;color:#eee;font-weight:600;text-shadow:.1em .1em .2em #000}.card[_ngcontent-%COMP%]{margin-right:15px;margin-top:15px}#search[_ngcontent-%COMP%]{border-radius:20px}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.Bz.forChild(m)],n.Bz]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[a.g],imports:[[i.ez,g.u5,Z]]}),t})()}}]);
//# sourceMappingURL=855.a578091e81e60bf9dda5.js.map