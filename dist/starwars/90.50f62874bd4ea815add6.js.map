{"version":3,"sources":["./src/app/services/starships.service.ts","./src/app/components/starships/starships.component.html","./src/app/components/starships/starships-routing.module.ts","./src/app/components/starships/starships.component.ts","./src/app/components/starships/starships.module.ts"],"names":["StarshipsService","http","endpoint","this","get","environment","pipe","take","page","id","starshipsRoutes","path","component","StarshipsComponent","spinner","starshipService","toastr","starships","starshipsFiltered","starship","pagina","filtroListado","value","filtroLista","filterStarships","show","GetAllStarship","filtrarPor","toLocaleLowerCase","filter","name","indexOf","getStarship","subscribe","success","error","console","add","hide","getStarshipPage","StarshipsRoutingModule","StarshipsModule"],"mappings":"kNASO,IAAMA,EAAb,MAAM,MAAOA,EAIb,YACUC,GAAA,KAAAA,OAHD,KAAAC,SAAW,YAMb,cACL,OAAOC,KAAKF,KACTG,IAAgBC,EAAA,MAAkBF,KAAKD,UACvCI,MAAK,EAAAC,EAAA,GAAK,IAGR,gBAAgBC,GACrB,OAAOL,KAAKF,KACTG,IAAgB,GAAGC,EAAA,MAAkBF,KAAKD,kBAAkBM,KAC5DF,MAAK,EAAAC,EAAA,GAAK,IAGR,gBAAgBE,GACrB,OAAON,KAAKF,KACTG,IAAc,GAAGC,EAAA,MAAkBF,KAAKD,YAAYO,KACpDH,MAAK,EAAAC,EAAA,GAAK,KAvBf,O,sCAAaP,GAAgB,c,0BAAhBA,EAAgB,QAAhBA,EAAgB,YAAhBA,GAAb,G,gDCUI,kBACE,kBACE,kBACA,kBACE,oBAA0B,SAAa,QACzC,QACF,QACF,S,yBAHgC,wB,wCAOhC,qBAA4B,iEAAuB,kEAChC,sBAAO,S,wCAC1B,qBAA2B,kEAAwB,kEAChC,oBAAQ,SC7B/B,MAAMU,EAA0B,CAC9B,CAAEC,KAAM,GAAIC,UCOd,MAAM,MAAOC,EAsBX,YACUC,EACAC,EACAC,GAFA,KAAAF,UACA,KAAAC,kBACA,KAAAC,SAtBH,KAAAC,UAAwB,GACxB,KAAAC,kBAAgC,GACvC,KAAAC,SAAW,GAEJ,KAAAC,OAAS,EAER,KAAAC,cAAgB,GAEF,kBACpB,OAAOlB,KAAKkB,cAGQ,gBAACC,GACrBnB,KAAKkB,cAAgBC,EACrBnB,KAAKe,kBAAoBf,KAAKoB,YAC1BpB,KAAKqB,gBAAgBrB,KAAKoB,aAC1BpB,KAAKc,UASX,WACEd,KAAKW,QAAQW,OACbtB,KAAKuB,iBAIA,gBAAgBC,GAErB,OADAA,EAAaA,EAAWC,oBACjBzB,KAAKc,UAAUY,OACnBZ,IAC2D,IAA5DA,EAAUa,KAAKF,oBAAoBG,QAAQJ,IAIxC,iBACLxB,KAAKY,gBAAgBiB,cAAcC,UAChChB,IACCd,KAAKc,UAAYA,EACjBd,KAAKe,kBAAoBf,KAAKc,UAC9Bd,KAAKa,OAAOkB,QAAQ,mBAAoB,aAEzCC,IACChC,KAAKa,OAAOmB,MAAM,yBAA0B,SAC5CC,QAAQD,MAAMA,KAEhBE,IAAI,IAAMlC,KAAKW,QAAQwB,QAG3B,cACEnC,KAAKiB,SACDjB,KAAKiB,OAAS,IACdjB,KAAKiB,OAAS,GAKpB,eACEjB,KAAKiB,SAIA,qBACLjB,KAAKY,gBAAgBwB,gBAAgBpC,KAAKiB,QAAQa,UAC/ChB,IACCd,KAAKc,UAAYA,EACjBd,KAAKe,kBAAoBf,KAAKc,UAC9Bd,KAAKa,OAAOkB,QAAQ,mBAAoB,aAGzCC,IACChC,KAAKa,OAAOmB,MAAM,yBAA0B,SAC5CC,QAAQD,MAAMA,KAEhBE,IAAI,IAAMlC,KAAKW,QAAQwB,SAjF7B,O,sCAAazB,GAAkB,mC,wBAAlBA,EAAkB,4vBFZ/B,iBAEE,iBACE,iBACF,QAEA,iBACE,aAAG,qBAAS,QACd,QAEA,iBACE,iBACE,iBACE,mBAAyE,2DAAzE,QACF,QACF,QACF,QAEA,kBACE,wBAQF,QAEA,mBACE,4BACmC,eACnC,4BAEF,QACF,S,MAtBiF,wCAM3C,8CAWzB,mCAEA,oC,k+BEpBAA,GAAb,KDCO,IAAM2B,EAAb,MAAM,MAAOA,GAAb,O,sCAAaA,I,wBAAAA,I,4BAJF,CAAC,cAAsB9B,IACtB,QAGC8B,GAAb,GEGaC,EAAb,MAAM,MAAOA,GAAb,O,sCAAaA,I,wBAAAA,I,6BAFA,CAACzC,GAAiB,SALpB,CACP,KACA,KACAwC,MAISC,GAAb","file":"90.50f62874bd4ea815add6.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { take } from 'rxjs/operators';\nimport { Starship } from '../models/Starship';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable()\n\nexport class StarshipsService {\n\n  public endpoint = 'starships';\n\nconstructor(\n  private http: HttpClient\n) { }\n\npublic getStarship(): Observable<Starship[]> {\n  return this.http\n    .get<Starship[]>(environment.api + this.endpoint)\n    .pipe(take(1));\n}\n\npublic getStarshipPage(page: number): Observable<Starship[]> {\n  return this.http\n    .get<Starship[]>(`${environment.api + this.endpoint}/?page=${page}`)\n    .pipe(take(1));\n}\n\npublic getStarshipById(id: number,): Observable<Starship> {\n  return this.http\n    .get<Starship>(`${environment.api + this.endpoint}/${id}`)\n    .pipe(take(1));\n}\n\n}\n","<div class=\"container\">\n\n  <div class=\"\">\n    <img src=\"../assets/StarWars3.png\" id=\"starwars\" alt=\"\">\n  </div>\n\n  <div class=\"title\">\n    <p>Starships</p>\n  </div>\n\n  <div class=\"d-flex mb-3\">\n    <div class=\"flex-fill pr-3\">\n      <div class=\"input-group mb-2\">\n        <input type=\"search\" class=\"form-control\" placeholder=\"Filtrar por Nome\" [(ngModel)]=\"filtroLista\" id=\"search\">\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row row-cols-1 row-cols-md-3 g-4\">\n    <div class=\"col\" *ngFor=\"let star of starshipsFiltered\" style=\"cursor: pointer;\">\n      <div class=\"card\">\n        <img src=\"../assets/Ghost-Fathead.png\" class=\"card-img-top\" alt=\"...\">\n        <div class=\"card-footer\">\n          <small class=\"text-muted\">{{star.name}}</small>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"d-flex justify-content-between\">\n    <button *ngIf=\"pagina >= 0\" (click)=\"mudarPagina()\" (click)=\"GetAllStarshipPage()\" style=\"font-weight: 600;\"\n      class=\"btn mt-3\">Pr√≥xima</button><br>\n    <button *ngIf=\"pagina > 0\" (click)=\"mudarPagina2()\" (click)=\"GetAllStarshipPage()\" style=\"font-weight: 600;\"\n      class=\"btn mt-3\">Anterior</button>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes} from '@angular/router';\nimport { StarshipsComponent } from './starships.component';\n\nconst starshipsRoutes: Routes = [\n  { path: '', component: StarshipsComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(starshipsRoutes)],\n  exports: [RouterModule]\n})\n\nexport class StarshipsRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { BsModalRef } from 'ngx-bootstrap/modal';\nimport { ToastrService } from 'ngx-toastr';\nimport { StarshipsService } from 'src/app/services/starships.service';\nimport { Starship } from 'src/app/models/Starship';\n\n@Component({\n  selector: 'app-starships',\n  templateUrl: './starships.component.html',\n  styleUrls: ['./starships.component.scss']\n})\nexport class StarshipsComponent implements OnInit {\n\n  modalRef!: BsModalRef;\n  public starships: Starship[] = [];\n  public starshipsFiltered: Starship[] = [];\n  starship = {} as Starship;\n\n  public pagina = 1;\n\n  private filtroListado = '';\n\n  public get filtroLista(): string {\n    return this.filtroListado;\n  }\n\n  public set filtroLista(value: string) {\n    this.filtroListado = value;\n    this.starshipsFiltered = this.filtroLista\n      ? this.filterStarships(this.filtroLista)\n      : this.starships;\n  }\n\n  constructor(\n    private spinner: NgxSpinnerService,\n    private starshipService: StarshipsService,\n    private toastr: ToastrService,\n  ) { }\n\n  ngOnInit(): void {\n    this.spinner.show();\n    this.GetAllStarship();\n    //console.log('Inicial',this.pagina);\n  }\n\n  public filterStarships(filtrarPor: string): Starship[] {\n    filtrarPor = filtrarPor.toLocaleLowerCase();\n    return this.starships.filter(\n      (starships: { name: string}) =>\n      starships.name.toLocaleLowerCase().indexOf(filtrarPor) !== -1\n    );\n  }\n\n  public GetAllStarship(): void {\n    this.starshipService.getStarship().subscribe(\n      (starships: any) => {\n        this.starships = starships;\n        this.starshipsFiltered = this.starships;\n        this.toastr.success('Dados carregados', 'Sucesso!');\n      },\n      (error: any) => {\n        this.toastr.error('Erro ao carregar dados', 'Erro!');\n        console.error(error);\n      }\n    ).add(() => this.spinner.hide());\n  }\n\n  mudarPagina(): void {\n    this.pagina++;\n    if (this.pagina > 4){\n        this.pagina = 1;\n    }\n   // console.log('Mais',this.pagina);\n  }\n\n  mudarPagina2(): void {\n    this.pagina--;\n    //console.log('Menos',this.pagina);\n  }\n\n  public GetAllStarshipPage(): void {\n    this.starshipService.getStarshipPage(this.pagina).subscribe(\n      (starships: any) => {\n        this.starships = starships;\n        this.starshipsFiltered = this.starships;\n        this.toastr.success('Dados carregados', 'Sucesso!');\n\n      },\n      (error: any) => {\n        this.toastr.error('Erro ao carregar dados', 'Erro!');\n        console.error(error);\n      }\n    ).add(() => this.spinner.hide());\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { StarshipsRoutingModule } from './starships-routing.module';\nimport { StarshipsComponent } from './starships.component';\nimport { FormsModule } from '@angular/forms';\nimport { StarshipsService } from 'src/app/services/starships.service';\n\n@NgModule({\n  declarations: [StarshipsComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    StarshipsRoutingModule,\n  ],\n  providers: [StarshipsService],\n})\nexport class StarshipsModule { }\n"],"sourceRoot":"webpack:///"}